



<!DOCTYPE html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      <meta http-equiv="x-ua-compatible" content="ie=edge">
      
      
      
      
        <meta name="lang:clipboard.copy" content="Copy to clipboard">
      
        <meta name="lang:clipboard.copied" content="Copied to clipboard">
      
        <meta name="lang:search.language" content="en">
      
        <meta name="lang:search.result.none" content="No matching documents">
      
        <meta name="lang:search.result.one" content="1 matching document">
      
        <meta name="lang:search.result.other" content="# matching documents">
      
        <meta name="lang:search.tokenizer" content="[\s\-]+">
      
      <link rel="shortcut icon" href="../../img/raspberry-pi-logo.png">
      <meta name="generator" content="mkdocs-0.17.2, mkdocs-material-2.2.5">
    
    
      
        <title>Device Trees, overlays, and parameters - Raspberry Pi Docs</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/application.bcabdff3.css">
      
        <link rel="stylesheet" href="../../assets/stylesheets/application-palette.792431c1.css">
      
    
    
      <script src="../../assets/javascripts/modernizr.1aa3b519.js"></script>
    
    
      
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono">
        <style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style>
      
      <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
    
    
    
  </head>
  
    
    
    
      <body data-md-color-primary="pink" data-md-color-accent="green">
    
  
    <svg class="md-svg">
      <defs>
        
        
      </defs>
    </svg>
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="drawer">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="search">
    <label class="md-overlay" data-md-component="overlay" for="drawer"></label>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header-nav md-grid">
    <div class="md-flex">
      <div class="md-flex__cell md-flex__cell--shrink">
        <a href="../../index.html" title="Raspberry Pi Docs" class="md-header-nav__button md-logo">
          
            <img src="../../img/raspberry-pi-logo.png" width="24" height="24">
          
        </a>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        <label class="md-icon md-icon--menu md-header-nav__button" for="drawer"></label>
      </div>
      <div class="md-flex__cell md-flex__cell--stretch">
        <div class="md-flex__ellipsis md-header-nav__title" data-md-component="title">
          
            
              <span class="md-header-nav__topic">
                Raspberry Pi Docs
              </span>
              <span class="md-header-nav__topic">
                Device Trees, overlays, and parameters
              </span>
            
          
        </div>
      </div>
      <div class="md-flex__cell md-flex__cell--shrink">
        
          
            <label class="md-icon md-icon--search md-header-nav__button" for="search"></label>
            
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="search"></label>
  <div class="md-search__inner">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" required placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query">
      <label class="md-icon md-search__icon" for="search"></label>
      <button type="reset" class="md-icon md-search__icon" data-md-component="reset">&#xE5CD;</button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="result">
          <div class="md-search-result__meta">
            Type to start searching
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
          
        
      </div>
      
    </div>
  </nav>
</header>
    
    <div class="md-container">
      
        
      
      
      <main class="md-main">
        <div class="md-main__inner md-grid" data-md-component="container">
          
            
              <div class="md-sidebar md-sidebar--primary" data-md-component="navigation">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    <nav class="md-nav md-nav--primary" data-md-level="0">
  <label class="md-nav__title md-nav__title--site" for="drawer">
    <span class="md-nav__button md-logo">
      
        <img src="../../img/raspberry-pi-logo.png" width="24" height="24">
      
    </span>
    Raspberry Pi Docs
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      


  <li class="md-nav__item">
    <a href="../../index.html" title="Raspberry Pi Documentation" class="md-nav__link">
      Raspberry Pi Documentation
    </a>
  </li>

    
      
      
      

  


  <li class="md-nav__item md-nav__item--active md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2" checked>
    
    <label class="md-nav__link" for="nav-2">
      Configuration
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-2">
        Configuration
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../README/index.html" title="Configuration" class="md-nav__link">
      Configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../audio-config/index.html" title="Audio configuration" class="md-nav__link">
      Audio configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../camera/index.html" title="Camera configuration" class="md-nav__link">
      Camera configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../cmdline-txt/index.html" title="The Kernel Command Line" class="md-nav__link">
      The Kernel Command Line
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/index.html" title="config.txt" class="md-nav__link">
      config.txt
    </a>
  </li>

        
          
          
          

  


  <li class="md-nav__item md-nav__item--active">
    
    <input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="toc">
    
      
    
    
      <label class="md-nav__link md-nav__link--active" for="toc">
        Device Trees, overlays, and parameters
      </label>
    
    <a href="index.html" title="Device Trees, overlays, and parameters" class="md-nav__link md-nav__link--active">
      Device Trees, overlays, and parameters
    </a>
    
      
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#device-trees" title="Device Trees" class="md-nav__link">
    Device Trees
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-basic-dts-syntax" title="1.1: Basic DTS syntax" class="md-nav__link">
    1.1: Basic DTS syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-an-aside-about-include" title="1.2: An aside about /include/" class="md-nav__link">
    1.2: An aside about /include/
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-labels-and-references" title="1.3: Labels and references" class="md-nav__link">
    1.3: Labels and references
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-device-tree-semantics" title="1.4: Device Tree semantics" class="md-nav__link">
    1.4: Device Tree semantics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2-device-tree-overlays" title="Part 2: Device Tree overlays" class="md-nav__link">
    Part 2: Device Tree overlays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-fragments" title="2.1: Fragments" class="md-nav__link">
    2.1: Fragments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-device-tree-parameters" title="2.2: Device Tree parameters" class="md-nav__link">
    2.2: Device Tree parameters
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-string-parameters" title="2.2.1: String parameters" class="md-nav__link">
    2.2.1: String parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-integer-parameters" title="2.2.2: Integer parameters" class="md-nav__link">
    2.2.2: Integer parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-boolean-parameters" title="2.2.3: Boolean parameters" class="md-nav__link">
    2.2.3: Boolean parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-overlayfragment-parameters" title="2.2.4 Overlay/fragment parameters" class="md-nav__link">
    2.2.4 Overlay/fragment parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#225-examples" title="2.2.5 Examples" class="md-nav__link">
    2.2.5 Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#226-parameters-with-multiple-targets" title="2.2.6: Parameters with multiple targets" class="md-nav__link">
    2.2.6: Parameters with multiple targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#227-further-overlay-examples" title="2.2.7: Further overlay examples" class="md-nav__link">
    2.2.7: Further overlay examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-3-using-device-trees-on-raspberry-pi" title="Part 3: Using Device Trees on Raspberry Pi" class="md-nav__link">
    Part 3: Using Device Trees on Raspberry Pi
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overlays-and-configtxt" title="3.1: Overlays and config.txt" class="md-nav__link">
    3.1: Overlays and config.txt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-dt-parameters" title="3.2: DT parameters" class="md-nav__link">
    3.2: DT parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-board-specific-labels-and-parameters" title="3.3: Board-specific labels and parameters" class="md-nav__link">
    3.3: Board-specific labels and parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-hats-and-device-tree" title="3.4: HATs and Device Tree" class="md-nav__link">
    3.4: HATs and Device Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-dynamic-device-tree" title="3.5: Dynamic Device Tree" class="md-nav__link">
    3.5: Dynamic Device Tree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-the-dtoverlay-command" title="3.5.1 The dtoverlay command" class="md-nav__link">
    3.5.1 The dtoverlay command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-the-dtparam-command" title="3.5.2 The dtparam command" class="md-nav__link">
    3.5.2 The dtparam command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353-guidelines-for-writing-runtime-capable-overlays" title="3.5.3 Guidelines for writing runtime-capable overlays" class="md-nav__link">
    3.5.3 Guidelines for writing runtime-capable overlays
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#354-caveats" title="3.5.4 Caveats" class="md-nav__link">
    3.5.4 Caveats
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-supported-overlays-and-parameters" title="3.6: Supported overlays and parameters" class="md-nav__link">
    3.6: Supported overlays and parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-4-troubleshooting-and-pro-tips" title="Part 4: Troubleshooting and pro tips" class="md-nav__link">
    Part 4: Troubleshooting and pro tips
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-debugging" title="4.1: Debugging" class="md-nav__link">
    4.1: Debugging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-testing-overlays-using-dtmerge-and-dtdiff" title="4.2: Testing overlays using dtmerge and dtdiff" class="md-nav__link">
    4.2: Testing overlays using dtmerge and dtdiff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-forcing-a-specific-device-tree" title="4.3: Forcing a specific Device Tree" class="md-nav__link">
    4.3: Forcing a specific Device Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-disabling-device-tree-usage" title="4.4: Disabling Device Tree usage" class="md-nav__link">
    4.4: Disabling Device Tree usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-shortcuts-and-syntax-variants" title="4.5: Shortcuts and syntax variants" class="md-nav__link">
    4.5: Shortcuts and syntax variants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-other-dt-commands-available-in-configtxt" title="4.6: Other DT commands available in config.txt" class="md-nav__link">
    4.6: Other DT commands available in config.txt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
    
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../external-storage/index.html" title="External storage" class="md-nav__link">
      External storage
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../localisation/index.html" title="Localisation" class="md-nav__link">
      Localisation
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../pin-configuration/index.html" title="Pin configuration" class="md-nav__link">
      Pin configuration
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../raspi-config/index.html" title="Raspi config" class="md-nav__link">
      Raspi config
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../screensaver/index.html" title="Screensaver" class="md-nav__link">
      Screensaver
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../security/index.html" title="Security" class="md-nav__link">
      Security
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../uart/index.html" title="Uart" class="md-nav__link">
      Uart
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../warning-icons/index.html" title="Warning icons" class="md-nav__link">
      Warning icons
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-15" type="checkbox" id="nav-2-15">
    
    <label class="md-nav__link" for="nav-2-15">
      Config txt
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-15">
        Config txt
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/audio/index.html" title="Audio" class="md-nav__link">
      Audio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/boot/index.html" title="Boot" class="md-nav__link">
      Boot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/camera/index.html" title="Camera" class="md-nav__link">
      Camera
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/codeclicence/index.html" title="Codeclicence" class="md-nav__link">
      Codeclicence
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/conditional/index.html" title="Conditional" class="md-nav__link">
      Conditional
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/memory/index.html" title="Memory" class="md-nav__link">
      Memory
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/misc/index.html" title="Misc" class="md-nav__link">
      Misc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/overclocking/index.html" title="Overclocking" class="md-nav__link">
      Overclocking
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../config-txt/video/index.html" title="Video" class="md-nav__link">
      Video
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-2-16" type="checkbox" id="nav-2-16">
    
    <label class="md-nav__link" for="nav-2-16">
      Wireless
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-2-16">
        Wireless
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../wireless/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wireless/access-point/index.html" title="Access point" class="md-nav__link">
      Access point
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wireless/desktop/index.html" title="Desktop" class="md-nav__link">
      Desktop
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../wireless/wireless-cli/index.html" title="Wireless cli" class="md-nav__link">
      Wireless cli
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3">
    
    <label class="md-nav__link" for="nav-3">
      Hardware
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-3">
        Hardware
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-2" type="checkbox" id="nav-3-2">
    
    <label class="md-nav__link" for="nav-3-2">
      Camera
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-2">
        Camera
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/camera/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-3" type="checkbox" id="nav-3-3">
    
    <label class="md-nav__link" for="nav-3-3">
      Computemodule
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-3">
        Computemodule
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/cm-designguide/index.html" title="Cm designguide" class="md-nav__link">
      Cm designguide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/cm-emmc-flashing/index.html" title="Cm emmc flashing" class="md-nav__link">
      Cm emmc flashing
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/cm-peri-sw-guide/index.html" title="Cm peri sw guide" class="md-nav__link">
      Cm peri sw guide
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/cmio-camera/index.html" title="Cmio camera" class="md-nav__link">
      Cmio camera
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/cmio-display/index.html" title="Cmio display" class="md-nav__link">
      Cmio display
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/datasheet/index.html" title="Datasheet" class="md-nav__link">
      Datasheet
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/designfiles/index.html" title="Designfiles" class="md-nav__link">
      Designfiles
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/computemodule/schematics/index.html" title="Schematics" class="md-nav__link">
      Schematics
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-4" type="checkbox" id="nav-3-4">
    
    <label class="md-nav__link" for="nav-3-4">
      Display
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-4">
        Display
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/display/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/display/troubleshooting/index.html" title="Troubleshooting" class="md-nav__link">
      Troubleshooting
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-5" type="checkbox" id="nav-3-5">
    
    <label class="md-nav__link" for="nav-3-5">
      Industrial
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-5">
        Industrial
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/industrial/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6" type="checkbox" id="nav-3-6">
    
    <label class="md-nav__link" for="nav-3-6">
      Raspberrypi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-6">
        Raspberrypi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/conformity/index.html" title="Conformity" class="md-nav__link">
      Conformity
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/peripheral_addresses/index.html" title="Peripheral addresses" class="md-nav__link">
      Peripheral addresses
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-4" type="checkbox" id="nav-3-6-4">
    
    <label class="md-nav__link" for="nav-3-6-4">
      Bcm2835
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-4">
        Bcm2835
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bcm2835/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-5" type="checkbox" id="nav-3-6-5">
    
    <label class="md-nav__link" for="nav-3-6-5">
      Bcm2836
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-5">
        Bcm2836
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bcm2836/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-6" type="checkbox" id="nav-3-6-6">
    
    <label class="md-nav__link" for="nav-3-6-6">
      Bcm2837
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-6">
        Bcm2837
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bcm2837/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-7" type="checkbox" id="nav-3-6-7">
    
    <label class="md-nav__link" for="nav-3-6-7">
      Bootmodes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-7">
        Bootmodes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/bootflow/index.html" title="Bootflow" class="md-nav__link">
      Bootflow
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/device/index.html" title="Device" class="md-nav__link">
      Device
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/host/index.html" title="Host" class="md-nav__link">
      Host
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/msd/index.html" title="Msd" class="md-nav__link">
      Msd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/net/index.html" title="Net" class="md-nav__link">
      Net
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/net_tutorial/index.html" title="Net tutorial" class="md-nav__link">
      Net tutorial
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/net_tutorial_windows/index.html" title="Net tutorial windows" class="md-nav__link">
      Net tutorial windows
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/netboot_server_easy/index.html" title="Netboot server easy" class="md-nav__link">
      Netboot server easy
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/sdcard/index.html" title="Sdcard" class="md-nav__link">
      Sdcard
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/bootmodes/usb/index.html" title="Usb" class="md-nav__link">
      Usb
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-8" type="checkbox" id="nav-3-6-8">
    
    <label class="md-nav__link" for="nav-3-6-8">
      Dpi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-8">
        Dpi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/dpi/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-9" type="checkbox" id="nav-3-6-9">
    
    <label class="md-nav__link" for="nav-3-6-9">
      Gpio
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-9">
        Gpio
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/gpio/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-10" type="checkbox" id="nav-3-6-10">
    
    <label class="md-nav__link" for="nav-3-6-10">
      Mechanical
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-10">
        Mechanical
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/mechanical/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-11" type="checkbox" id="nav-3-6-11">
    
    <label class="md-nav__link" for="nav-3-6-11">
      Power
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-11">
        Power
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/power/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-12" type="checkbox" id="nav-3-6-12">
    
    <label class="md-nav__link" for="nav-3-6-12">
      Revision codes
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-12">
        Revision codes
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/revision-codes/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-13" type="checkbox" id="nav-3-6-13">
    
    <label class="md-nav__link" for="nav-3-6-13">
      Schematics
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-13">
        Schematics
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/schematics/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-14" type="checkbox" id="nav-3-6-14">
    
    <label class="md-nav__link" for="nav-3-6-14">
      Spi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-14">
        Spi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/spi/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-6-15" type="checkbox" id="nav-3-6-15">
    
    <label class="md-nav__link" for="nav-3-6-15">
      Usb
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-3-6-15">
        Usb
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/raspberrypi/usb/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-3-7" type="checkbox" id="nav-3-7">
    
    <label class="md-nav__link" for="nav-3-7">
      Sense hat
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-3-7">
        Sense hat
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../hardware/sense-hat/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4">
    
    <label class="md-nav__link" for="nav-4">
      Installation
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-4">
        Installation
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/noobs/index.html" title="Noobs" class="md-nav__link">
      Noobs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/sd-cards/index.html" title="Sd cards" class="md-nav__link">
      Sd cards
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/sdxc_formatting/index.html" title="Sdxc formatting" class="md-nav__link">
      Sdxc formatting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-4-5" type="checkbox" id="nav-4-5">
    
    <label class="md-nav__link" for="nav-4-5">
      Installing images
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-4-5">
        Installing images
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/installing-images/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/installing-images/linux/index.html" title="Linux" class="md-nav__link">
      Linux
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/installing-images/mac/index.html" title="Mac" class="md-nav__link">
      Mac
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../installation/installing-images/windows/index.html" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5" type="checkbox" id="nav-5">
    
    <label class="md-nav__link" for="nav-5">
      Linux
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-5">
        Linux
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-2" type="checkbox" id="nav-5-2">
    
    <label class="md-nav__link" for="nav-5-2">
      Filesystem
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-2">
        Filesystem
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/filesystem/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/filesystem/backup/index.html" title="Backup" class="md-nav__link">
      Backup
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/filesystem/home/index.html" title="Home" class="md-nav__link">
      Home
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/filesystem/whole-filesystem/index.html" title="Whole filesystem" class="md-nav__link">
      Whole filesystem
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-3" type="checkbox" id="nav-5-3">
    
    <label class="md-nav__link" for="nav-5-3">
      Kernel
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-3">
        Kernel
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/kernel/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/kernel/building/index.html" title="Building" class="md-nav__link">
      Building
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/kernel/configuring/index.html" title="Configuring" class="md-nav__link">
      Configuring
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/kernel/headers/index.html" title="Headers" class="md-nav__link">
      Headers
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/kernel/patching/index.html" title="Patching" class="md-nav__link">
      Patching
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/kernel/updating/index.html" title="Updating" class="md-nav__link">
      Updating
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-4" type="checkbox" id="nav-5-4">
    
    <label class="md-nav__link" for="nav-5-4">
      Software
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-4">
        Software
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/software/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/software/apt/index.html" title="Apt" class="md-nav__link">
      Apt
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/software/python/index.html" title="Python" class="md-nav__link">
      Python
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/software/ruby/index.html" title="Ruby" class="md-nav__link">
      Ruby
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-5-5" type="checkbox" id="nav-5-5">
    
    <label class="md-nav__link" for="nav-5-5">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-5-5">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/bashrc/index.html" title="Bashrc" class="md-nav__link">
      Bashrc
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/commands/index.html" title="Commands" class="md-nav__link">
      Commands
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/cron/index.html" title="Cron" class="md-nav__link">
      Cron
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/rc-local/index.html" title="Rc local" class="md-nav__link">
      Rc local
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/root/index.html" title="Root" class="md-nav__link">
      Root
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/scripting/index.html" title="Scripting" class="md-nav__link">
      Scripting
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/systemd/index.html" title="Systemd" class="md-nav__link">
      Systemd
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/text-editors/index.html" title="Text editors" class="md-nav__link">
      Text editors
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../linux/usage/users/index.html" title="Users" class="md-nav__link">
      Users
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6">
    
    <label class="md-nav__link" for="nav-6">
      Raspbian
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-6">
        Raspbian
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspbian/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspbian/updating/index.html" title="Updating" class="md-nav__link">
      Updating
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-6-3" type="checkbox" id="nav-6-3">
    
    <label class="md-nav__link" for="nav-6-3">
      Applications
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-6-3">
        Applications
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspbian/applications/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspbian/applications/camera/index.html" title="Camera" class="md-nav__link">
      Camera
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../raspbian/applications/omxplayer/index.html" title="Omxplayer" class="md-nav__link">
      Omxplayer
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7" type="checkbox" id="nav-7">
    
    <label class="md-nav__link" for="nav-7">
      Remote access
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-7">
        Remote access
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ftp/index.html" title="Ftp" class="md-nav__link">
      Ftp
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ip-address/index.html" title="Ip address" class="md-nav__link">
      Ip address
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-4" type="checkbox" id="nav-7-4">
    
    <label class="md-nav__link" for="nav-7-4">
      access over Internet
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-4">
        access over Internet
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/access-over-Internet/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-5" type="checkbox" id="nav-7-5">
    
    <label class="md-nav__link" for="nav-7-5">
      Ssh
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-5">
        Ssh
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/android/index.html" title="Android" class="md-nav__link">
      Android
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/ios/index.html" title="Ios" class="md-nav__link">
      Ios
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/passwordless/index.html" title="Passwordless" class="md-nav__link">
      Passwordless
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/rsync/index.html" title="Rsync" class="md-nav__link">
      Rsync
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/scp/index.html" title="Scp" class="md-nav__link">
      Scp
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/sftp/index.html" title="Sftp" class="md-nav__link">
      Sftp
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/sshfs/index.html" title="Sshfs" class="md-nav__link">
      Sshfs
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/unix/index.html" title="Unix" class="md-nav__link">
      Unix
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/ssh/windows/index.html" title="Windows" class="md-nav__link">
      Windows
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-6" type="checkbox" id="nav-7-6">
    
    <label class="md-nav__link" for="nav-7-6">
      Vnc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-6">
        Vnc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/vnc/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-7-7" type="checkbox" id="nav-7-7">
    
    <label class="md-nav__link" for="nav-7-7">
      Web server
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-7-7">
        Web server
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/web-server/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/web-server/apache/index.html" title="Apache" class="md-nav__link">
      Apache
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../remote-access/web-server/nginx/index.html" title="Nginx" class="md-nav__link">
      Nginx
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-8" type="checkbox" id="nav-8">
    
    <label class="md-nav__link" for="nav-8">
      Setup
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-8">
        Setup
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../setup/monitor-connection/index.html" title="Monitor connection" class="md-nav__link">
      Monitor connection
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

    
      
      
      


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9" type="checkbox" id="nav-9">
    
    <label class="md-nav__link" for="nav-9">
      Usage
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="1">
      <label class="md-nav__title" for="nav-9">
        Usage
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-2" type="checkbox" id="nav-9-2">
    
    <label class="md-nav__link" for="nav-9-2">
      Audio
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-2">
        Audio
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/audio/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3" type="checkbox" id="nav-9-3">
    
    <label class="md-nav__link" for="nav-9-3">
      Camera
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-3">
        Camera
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3-2" type="checkbox" id="nav-9-3-2">
    
    <label class="md-nav__link" for="nav-9-3-2">
      Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-3-2">
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/python/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-3-3" type="checkbox" id="nav-9-3-3">
    
    <label class="md-nav__link" for="nav-9-3-3">
      Raspicam
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-3-3">
        Raspicam
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/raspicam/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/raspicam/raspistill/index.html" title="Raspistill" class="md-nav__link">
      Raspistill
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/raspicam/raspivid/index.html" title="Raspivid" class="md-nav__link">
      Raspivid
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/raspicam/raspiyuv/index.html" title="Raspiyuv" class="md-nav__link">
      Raspiyuv
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/camera/raspicam/timelapse/index.html" title="Timelapse" class="md-nav__link">
      Timelapse
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-4" type="checkbox" id="nav-9-4">
    
    <label class="md-nav__link" for="nav-9-4">
      Demos
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-4">
        Demos
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/hello-audio/index.html" title="Hello audio" class="md-nav__link">
      Hello audio
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/hello-fractal/index.html" title="Hello fractal" class="md-nav__link">
      Hello fractal
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/hello-teapot/index.html" title="Hello teapot" class="md-nav__link">
      Hello teapot
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/hello-triangle/index.html" title="Hello triangle" class="md-nav__link">
      Hello triangle
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/hello-video/index.html" title="Hello video" class="md-nav__link">
      Hello video
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/demos/hello-world/index.html" title="Hello world" class="md-nav__link">
      Hello world
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-5" type="checkbox" id="nav-9-5">
    
    <label class="md-nav__link" for="nav-9-5">
      Gpio
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-5">
        Gpio
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/gpio/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-6" type="checkbox" id="nav-9-6">
    
    <label class="md-nav__link" for="nav-9-6">
      Gpio plus and raspi2
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-6">
        Gpio plus and raspi2
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/gpio-plus-and-raspi2/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-7" type="checkbox" id="nav-9-7">
    
    <label class="md-nav__link" for="nav-9-7">
      Kodi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-7">
        Kodi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/kodi/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-8" type="checkbox" id="nav-9-8">
    
    <label class="md-nav__link" for="nav-9-8">
      Mathematica
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-8">
        Mathematica
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/mathematica/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-9" type="checkbox" id="nav-9-9">
    
    <label class="md-nav__link" for="nav-9-9">
      Minecraft
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-9">
        Minecraft
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/minecraft/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-10" type="checkbox" id="nav-9-10">
    
    <label class="md-nav__link" for="nav-9-10">
      Python
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-10">
        Python
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/python/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/python/more/index.html" title="More" class="md-nav__link">
      More
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-11" type="checkbox" id="nav-9-11">
    
    <label class="md-nav__link" for="nav-9-11">
      Python games
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-11">
        Python games
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/python-games/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-12" type="checkbox" id="nav-9-12">
    
    <label class="md-nav__link" for="nav-9-12">
      Scratch
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-12">
        Scratch
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/scratch/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-12-2" type="checkbox" id="nav-9-12-2">
    
    <label class="md-nav__link" for="nav-9-12-2">
      Gpio
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="3">
      <label class="md-nav__title" for="nav-9-12-2">
        Gpio
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/scratch/gpio/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-13" type="checkbox" id="nav-9-13">
    
    <label class="md-nav__link" for="nav-9-13">
      Sonic pi
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-13">
        Sonic pi
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/sonic-pi/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-14" type="checkbox" id="nav-9-14">
    
    <label class="md-nav__link" for="nav-9-14">
      Terminal
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-14">
        Terminal
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/terminal/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-15" type="checkbox" id="nav-9-15">
    
    <label class="md-nav__link" for="nav-9-15">
      Video
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-15">
        Video
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/video/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-16" type="checkbox" id="nav-9-16">
    
    <label class="md-nav__link" for="nav-9-16">
      Webcams
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-16">
        Webcams
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/webcams/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-17" type="checkbox" id="nav-9-17">
    
    <label class="md-nav__link" for="nav-9-17">
      Wordpress
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-17">
        Wordpress
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/wordpress/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
          
          
          


  <li class="md-nav__item md-nav__item--nested">
    
      <input class="md-toggle md-nav__toggle" data-md-toggle="nav-9-18" type="checkbox" id="nav-9-18">
    
    <label class="md-nav__link" for="nav-9-18">
      Xbmc
    </label>
    <nav class="md-nav" data-md-component="collapsible" data-md-level="2">
      <label class="md-nav__title" for="nav-9-18">
        Xbmc
      </label>
      <ul class="md-nav__list" data-md-scrollfix>
        
        
          
          
          


  <li class="md-nav__item">
    <a href="../../usage/xbmc/README/index.html" title="README" class="md-nav__link">
      README
    </a>
  </li>

        
      </ul>
    </nav>
  </li>

        
      </ul>
    </nav>
  </li>

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              <div class="md-sidebar md-sidebar--secondary" data-md-component="toc">
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary">
  
  
    
  
  
    <label class="md-nav__title" for="toc">Table of contents</label>
    <ul class="md-nav__list" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#device-trees" title="Device Trees" class="md-nav__link">
    Device Trees
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#11-basic-dts-syntax" title="1.1: Basic DTS syntax" class="md-nav__link">
    1.1: Basic DTS syntax
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#12-an-aside-about-include" title="1.2: An aside about /include/" class="md-nav__link">
    1.2: An aside about /include/
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#13-labels-and-references" title="1.3: Labels and references" class="md-nav__link">
    1.3: Labels and references
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#14-device-tree-semantics" title="1.4: Device Tree semantics" class="md-nav__link">
    1.4: Device Tree semantics
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-2-device-tree-overlays" title="Part 2: Device Tree overlays" class="md-nav__link">
    Part 2: Device Tree overlays
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#21-fragments" title="2.1: Fragments" class="md-nav__link">
    2.1: Fragments
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#22-device-tree-parameters" title="2.2: Device Tree parameters" class="md-nav__link">
    2.2: Device Tree parameters
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#221-string-parameters" title="2.2.1: String parameters" class="md-nav__link">
    2.2.1: String parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#222-integer-parameters" title="2.2.2: Integer parameters" class="md-nav__link">
    2.2.2: Integer parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#223-boolean-parameters" title="2.2.3: Boolean parameters" class="md-nav__link">
    2.2.3: Boolean parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#224-overlayfragment-parameters" title="2.2.4 Overlay/fragment parameters" class="md-nav__link">
    2.2.4 Overlay/fragment parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#225-examples" title="2.2.5 Examples" class="md-nav__link">
    2.2.5 Examples
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#226-parameters-with-multiple-targets" title="2.2.6: Parameters with multiple targets" class="md-nav__link">
    2.2.6: Parameters with multiple targets
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#227-further-overlay-examples" title="2.2.7: Further overlay examples" class="md-nav__link">
    2.2.7: Further overlay examples
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-3-using-device-trees-on-raspberry-pi" title="Part 3: Using Device Trees on Raspberry Pi" class="md-nav__link">
    Part 3: Using Device Trees on Raspberry Pi
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#31-overlays-and-configtxt" title="3.1: Overlays and config.txt" class="md-nav__link">
    3.1: Overlays and config.txt
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#32-dt-parameters" title="3.2: DT parameters" class="md-nav__link">
    3.2: DT parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#33-board-specific-labels-and-parameters" title="3.3: Board-specific labels and parameters" class="md-nav__link">
    3.3: Board-specific labels and parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#34-hats-and-device-tree" title="3.4: HATs and Device Tree" class="md-nav__link">
    3.4: HATs and Device Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#35-dynamic-device-tree" title="3.5: Dynamic Device Tree" class="md-nav__link">
    3.5: Dynamic Device Tree
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#351-the-dtoverlay-command" title="3.5.1 The dtoverlay command" class="md-nav__link">
    3.5.1 The dtoverlay command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#352-the-dtparam-command" title="3.5.2 The dtparam command" class="md-nav__link">
    3.5.2 The dtparam command
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#353-guidelines-for-writing-runtime-capable-overlays" title="3.5.3 Guidelines for writing runtime-capable overlays" class="md-nav__link">
    3.5.3 Guidelines for writing runtime-capable overlays
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#354-caveats" title="3.5.4 Caveats" class="md-nav__link">
    3.5.4 Caveats
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
        
          <li class="md-nav__item">
  <a href="#36-supported-overlays-and-parameters" title="3.6: Supported overlays and parameters" class="md-nav__link">
    3.6: Supported overlays and parameters
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#part-4-troubleshooting-and-pro-tips" title="Part 4: Troubleshooting and pro tips" class="md-nav__link">
    Part 4: Troubleshooting and pro tips
  </a>
  
    <nav class="md-nav">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#41-debugging" title="4.1: Debugging" class="md-nav__link">
    4.1: Debugging
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#42-testing-overlays-using-dtmerge-and-dtdiff" title="4.2: Testing overlays using dtmerge and dtdiff" class="md-nav__link">
    4.2: Testing overlays using dtmerge and dtdiff
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#43-forcing-a-specific-device-tree" title="4.3: Forcing a specific Device Tree" class="md-nav__link">
    4.3: Forcing a specific Device Tree
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#44-disabling-device-tree-usage" title="4.4: Disabling Device Tree usage" class="md-nav__link">
    4.4: Disabling Device Tree usage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#45-shortcuts-and-syntax-variants" title="4.5: Shortcuts and syntax variants" class="md-nav__link">
    4.5: Shortcuts and syntax variants
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#46-other-dt-commands-available-in-configtxt" title="4.6: Other DT commands available in config.txt" class="md-nav__link">
    4.6: Other DT commands available in config.txt
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
      
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content">
            <article class="md-content__inner md-typeset">
              
                
                
                <h1 id="device-trees-overlays-and-parameters">Device Trees, overlays, and parameters</h1>
<p>Raspberry Pi's latest kernels and firmware, including Raspbian and NOOBS releases, now use a Device Tree (DT) to manage some resource allocation and module loading by default. This was implemented to alleviate the problem of multiple drivers contending for system resources, and to allow HAT modules to be auto-configured.</p>
<p>The current implementation is not a pure Device Tree system  there is still board support code that creates some platform devices  but the external interfaces (I2C, I2S, SPI), and the audio devices that use them, must now be instantiated using a Device Tree Blob (DTB) passed to the kernel by the loader (<code>start.elf</code>).</p>
<p>The main impact of using Device Tree is to change from <strong>everything on</strong>, relying on module blacklisting to manage contention, to <strong>everything off unless requested by the DTB</strong>. In order to continue to use external interfaces and the peripherals that attach to them, you will need to add some new settings to your <code>config.txt</code>. Full details are given in <a href="#part3">Part 3</a>, but these are a few examples:</p>
<div class="codehilite"><pre><span></span># Uncomment some or all of these lines to enable the optional hardware interfaces
#dtparam=i2c_arm=on
#dtparam=i2s=on
#dtparam=spi=on

# Uncomment one of these lines to enable an audio interface
#dtoverlay=hifiberry-amp
#dtoverlay=hifiberry-dac
#dtoverlay=hifiberry-dacplus
#dtoverlay=hifiberry-digi
#dtoverlay=iqaudio-dac
#dtoverlay=iqaudio-dacplus
#dtoverlay=audioinjector-wm8731-audio

# Uncomment this to enable the lirc-rpi module
#dtoverlay=lirc-rpi

# Uncomment this to override the defaults for the lirc-rpi module
#dtparam=gpio_out_pin=16
#dtparam=gpio_in_pin=17
#dtparam=gpio_in_pull=down
</pre></div>


<p><a name="part1"></a></p>
<h2 id="device-trees">Device Trees</h2>
<p>A Device Tree (DT) is a description of the hardware in a system. It should include the name of the base CPU, its memory configuration, and any peripherals (internal and external). A DT should not be used to describe the software, although by listing the hardware modules it does usually cause driver modules to be loaded. It helps to remember that DTs are supposed to be OS-neutral, so anything which is Linux-specific probably shouldn't be there.</p>
<p>A Device Tree represents the hardware configuration as a hierarchy of nodes. Each node may contain properties and subnodes. Properties are named arrays of bytes, which may contain strings, numbers (big-endian), arbitrary sequences of bytes, and any combination thereof. By analogy to a filesystem, nodes are directories and properties are files. The locations of nodes and properties within the tree can be described using a path, with slashes as separators and a single slash (<code>/</code>) to indicate the root.</p>
<p><a name="part1.1"></a></p>
<h3 id="11-basic-dts-syntax">1.1: Basic DTS syntax</h3>
<p>Device Trees are usually written in a textual form known as Device Tree Source (DTS) and stored in files with a <code>.dts</code> suffix. DTS syntax is C-like, with braces for grouping and semicolons at the end of each line. Note that DTS requires semicolons after closing braces: think of C <code>struct</code>s rather than functions. The compiled binary format is referred to as Flattened Device Tree (FDT) or Device Tree Blob (DTB), and is stored in <code>.dtb</code> files.</p>
<p>The following is a simple tree in the <code>.dts</code> format:</p>
<div class="codehilite"><pre><span></span>/dts-v1/;
/include/ &quot;common.dtsi&quot;;

/ {
    node1 {
        a-string-property = &quot;A string&quot;;
        a-string-list-property = &quot;first string&quot;, &quot;second string&quot;;
        a-byte-data-property = [0x01 0x23 0x34 0x56];
        cousin: child-node1 {
            first-child-property;
            second-child-property = &lt;1&gt;;
            a-string-property = &quot;Hello, world&quot;;
        };
        child-node2 {
        };
    };
    node2 {
        an-empty-property;
        a-cell-property = &lt;1 2 3 4&gt;; /* each number (cell) is a uint32 */
        child-node1 {
            my-cousin = &lt;&amp;cousin&gt;;
        };
    };
};

/node2 {
    another-property-for-node2;
};
</pre></div>


<p>This tree contains:</p>
<ul>
<li>a required header: <code>/dts-v1/</code>.</li>
<li>The inclusion of another DTS file, conventionally named <code>*.dtsi</code> and analogous to a <code>.h</code> header file in C - see <em>An aside about /include/</em> below.</li>
<li>a single root node: <code>/</code></li>
<li>a couple of child nodes: <code>node1</code> and <code>node2</code></li>
<li>some children for node1: <code>child-node1</code> and <code>child-node2</code></li>
<li>a label (<code>cousin</code>) and a reference to that label (<code>&amp;cousin</code>): see <em>Labels and References</em> below.</li>
<li>several properties scattered through the tree</li>
<li>a repeated node (<code>/node2</code>) - see <em>An aside about /include/</em> below.</li>
</ul>
<p>Properties are simple key-value pairs where the value can either be empty or contain an arbitrary byte stream. While data types are not encoded in the data structure, there are a few fundamental data representations that can be expressed in a Device Tree source file.</p>
<p>Text strings (NUL-terminated) are indicated with double quotes:</p>
<div class="codehilite"><pre><span></span>string-property = &quot;a string&quot;;
</pre></div>


<p>Cells are 32-bit unsigned integers delimited by angle brackets:</p>
<div class="codehilite"><pre><span></span>cell-property = &lt;0xbeef 123 0xabcd1234&gt;;
</pre></div>


<p>Arbitrary byte data is delimited with square brackets, and entered in hex:</p>
<div class="codehilite"><pre><span></span>binary-property = [01 23 45 67 89 ab cd ef];
</pre></div>


<p>Data of differing representations can be concatenated using a comma:</p>
<div class="codehilite"><pre><span></span>mixed-property = &quot;a string&quot;, [01 23 45 67], &lt;0x12345678&gt;;
</pre></div>


<p>Commas are also used to create lists of strings:</p>
<div class="codehilite"><pre><span></span>string-list = &quot;red fish&quot;, &quot;blue fish&quot;;
</pre></div>


<p><a name="part1.2"></a></p>
<h3 id="12-an-aside-about-include">1.2: An aside about /include/</h3>
<p>The <code>/include/</code> directive results in simple textual inclusion, much like C's <code>#include</code> directive, but a feature of the Device Tree compiler leads to different usage patterns. Given that nodes are named, potentially with absolute paths, it is possible for the same node to appear twice in a DTS file (and its inclusions). When this happens, the nodes and properties are combined, interleaving and overwriting properties as required (later values override earlier ones).</p>
<p>In the example above, the second appearance of <code>/node2</code> causes a new property to be added to the original:</p>
<div class="codehilite"><pre><span></span>/node2 {
    an-empty-property;
    a-cell-property = &lt;1 2 3 4&gt;; /* each number (cell) is a uint32 */
    another-property-for-node2;
    child-node1 {
        my-cousin = &lt;&amp;cousin&gt;;
    };
};
</pre></div>


<p>It is thus possible for one <code>.dtsi</code> to overwrite, or provide defaults for, multiple places in a tree.</p>
<p><a name="part1.3"></a></p>
<h3 id="13-labels-and-references">1.3: Labels and references</h3>
<p>It is often necessary for one part of the tree to refer to another, and there are four ways to do this:</p>
<ol>
<li>
<p>Path strings</p>
<p>Paths should be self-explanatory, by analogy with a filesystem - <code>/soc/i2s@7e203000</code> is the full path to the I2S device in BCM2835 and BCM2836. Note that although it is easy to construct a path to a property (for example, <code>/soc/i2s@7e203000/status</code>), the standard APIs don't do that; you first find a node, then choose properties of that node.</p>
</li>
<li>
<p>phandles</p>
</li>
</ol>
<p>A phandle is a unique 32-bit integer assigned to a node in its <code>phandle</code> property. For historical reasons, you may also see a redundant, matching <code>linux,phandle</code>. phandles are numbered sequentially, starting from 1; 0 is not a valid phandle. They are usually allocated by the DT compiler when it encounters a reference to a node in an integer context, usually in the form of a label (see below). References to nodes using phandles are simply encoded as the corresponding integer (cell) values; there is no markup to indicate that they should be interpreted as phandles, as that is application-defined.</p>
<ol>
<li>Labels</li>
</ol>
<p>Just as a label in C gives a name to a place in the code, a DT label assigns a name to a node in the hierarchy. The compiler takes references to labels and converts them into paths when used in string context (<code>&amp;node</code>) and phandles in integer context (<code>&lt;&amp;node&gt;</code>); the original labels do not appear in the compiled output. Note that labels contain no structure; they are just tokens in a flat, global namespace.</p>
<ol>
<li>Aliases</li>
</ol>
<p>Aliases are similar to labels, except that they do appear in the FDT output as a form of index. They are stored as properties of the <code>/aliases</code> node, with each property mapping an alias name to a path string. Although the aliases node appears in the source, the path strings usually appear as references to labels (<code>&amp;node</code>), rather then being written out in full. DT APIs that resolve a path string to a node typically look at the first character of the path, treating paths that do not start with a slash as aliases that must first be converted to a path using the <code>/aliases</code> table.</p>
<p><a name="part1.4"></a></p>
<h3 id="14-device-tree-semantics">1.4: Device Tree semantics</h3>
<p>How to construct a Device Tree, and how best to use it to capture the configuration of some hardware, is a large and complex subject. There are many resources available, some of which are listed below, but several points deserve mentioning in this document:</p>
<p><code>compatible</code> properties are the link between the hardware description and the driver software. When an OS encounters a node with a <code>compatible</code> property, it looks it up in its database of device drivers to find the best match. In Linux, this usually results in the driver module being automatically loaded, provided it has been appropriately labelled and not blacklisted.</p>
<p>The <code>status</code> property indicates whether a device is enabled or disabled. If the <code>status</code> is <code>ok</code>, <code>okay</code> or absent, then the device is enabled. Otherwise, <code>status</code> should be <code>disabled</code>, so that the device is disabled. It can be useful to place devices in a <code>.dtsi</code> file with the status set to <code>disabled</code>. A derived configuration can then include that <code>.dtsi</code> and set the status for the devices which are needed to <code>okay</code>.</p>
<p><a name="part2"></a></p>
<h2 id="part-2-device-tree-overlays">Part 2: Device Tree overlays</h2>
<p>A modern SoC (System on a Chip) is a very complicated device; a complete Device Tree could be hundreds of lines long. Taking that one step further and placing the SoC on a board with other components only makes matters worse. To keep that manageable, particularly if there are related devices that share components, it makes sense to put the common elements in <code>.dtsi</code> files, to be included from possibly multiple <code>.dts</code> files.</p>
<p>But when a system like Raspberry Pi supports optional plug-in accessories, such as HATs, the problem grows. Ultimately, each possible configuration requires a Device Tree to describe it, but once you factor in different base hardware (models A, B, A+, and B+) and gadgets only requiring the use of a few GPIO pins that can coexist, the number of combinations starts to multiply rapidly.</p>
<p>What is needed is a way to describe these optional components using a partial Device Tree, and then to be able to build a complete tree by taking a base DT and adding a number of optional elements. You can do this, and these optional elements are called "overlays".</p>
<p><a name="part2.1"></a></p>
<h3 id="21-fragments">2.1: Fragments</h3>
<p>A DT overlay comprises a number of fragments, each of which targets one node and its subnodes. Although the concept sounds simple enough, the syntax seems rather strange at first:</p>
<div class="codehilite"><pre><span></span><span class="c1">// Enable the i2s interface</span>
<span class="o">/</span><span class="n">dts</span><span class="o">-</span><span class="n">v1</span><span class="o">/</span><span class="p">;</span>
<span class="o">/</span><span class="n">plugin</span><span class="o">/</span><span class="p">;</span>

<span class="o">/</span> <span class="p">{</span>
    <span class="n">compatible</span> <span class="o">=</span> <span class="s">&quot;brcm,bcm2708&quot;</span><span class="p">;</span>

    <span class="n">fragment</span><span class="mi">@0</span> <span class="p">{</span>
        <span class="n">target</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="n">i2s</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="n">__overlay__</span> <span class="p">{</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s">&quot;okay&quot;</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>


<p>The <code>compatible</code> string identifies this as being for BCM2708, which is the base architecture of the BCM2835 part. For the BCM2836 part you could use a compatible string of "brcm,bcm2709", but unless you are targeting features of the ARM CPUs, the two architectures should be equivalent, so sticking to "brcm,bcm2708" is reasonable. Then comes the first (and in this case only) fragment. Fragments are numbered sequentially from zero. Failure to adhere to this may cause some or all of your fragments to be missed.</p>
<p>Each fragment consists of two parts: a <code>target</code> property, identifying the node to apply the overlay to; and the <code>__overlay__</code> itself, the body of which is added to the target node. The example above can be interpreted as if it were written like this:</p>
<div class="codehilite"><pre><span></span>/dts-v1/;

/ {
    compatible = &quot;brcm,bcm2708&quot;;
};

&amp;i2s {
    status = &quot;okay&quot;;
};
</pre></div>


<p>The effect of merging that overlay with a standard Raspberry Pi base Device Tree (e.g. <code>bcm2708-rpi-b-plus.dtb</code>), provided the overlay is loaded afterwards, would be to enable the I2S interface by changing its status to <code>okay</code>. But if you try to compile this overlay using:</p>
<div class="codehilite"><pre><span></span>dtc -I dts -O dtb -o 2nd.dtbo 2nd-overlay.dts
</pre></div>


<p>you will get an error:</p>
<div class="codehilite"><pre><span></span>Label or path i2s not found
</pre></div>


<p>This shouldn't be too unexpected, since there is no reference to the base <code>.dtb</code> or <code>.dts</code> file to allow the compiler to find the <code>i2s</code> label.</p>
<p>Trying again, this time using the original example and adding the <code>-@</code> option to allow unresolved references:</p>
<div class="codehilite"><pre><span></span>dtc -@ -I dts -O dtb -o 1st.dtbo 1st-overlay.dts
</pre></div>


<p>If <code>dtc</code> returns an error about the third line, it doesn't have the extensions required for overlay work. Run <code>sudo apt-get install device-tree-compiler</code> and try again - this time, compilation should complete successfully. Note that a suitable compiler is also available in the kernel tree as <code>scripts/dtc/dtc</code>, built when the <code>dtbs</code> make target is used:</p>
<div class="codehilite"><pre><span></span>make ARCH=arm dtbs
</pre></div>


<p>It is interesting to dump the contents of the DTB file to see what the compiler has generated:</p>
<div class="codehilite"><pre><span></span><span class="err">$</span> <span class="n">fdtdump</span> <span class="mi">1</span><span class="n">st</span><span class="p">.</span><span class="n">dtbo</span>

<span class="o">/</span><span class="n">dts</span><span class="o">-</span><span class="n">v1</span><span class="o">/</span><span class="p">;</span>
<span class="c1">// magic:           0xd00dfeed</span>
<span class="c1">// totalsize:       0x106 (262)</span>
<span class="c1">// off_dt_struct:   0x38</span>
<span class="c1">// off_dt_strings:  0xe8</span>
<span class="c1">// off_mem_rsvmap:  0x28</span>
<span class="c1">// version:         17</span>
<span class="c1">// last_comp_version:    16</span>
<span class="c1">// boot_cpuid_phys: 0x0</span>
<span class="c1">// size_dt_strings: 0x1e</span>
<span class="c1">// size_dt_struct:  0xb0</span>

<span class="o">/</span> <span class="p">{</span>
    <span class="n">compatible</span> <span class="o">=</span> <span class="s">&quot;brcm,bcm2708&quot;</span><span class="p">;</span>
    <span class="n">fragment</span><span class="mi">@0</span> <span class="p">{</span>
        <span class="n">target</span> <span class="o">=</span> <span class="o">&lt;</span><span class="mh">0xdeadbeef</span><span class="o">&gt;</span><span class="p">;</span>
        <span class="n">__overlay__</span> <span class="p">{</span>
            <span class="n">status</span> <span class="o">=</span> <span class="s">&quot;okay&quot;</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">};</span>
    <span class="n">__fixups__</span> <span class="p">{</span>
        <span class="n">i2s</span> <span class="o">=</span> <span class="s">&quot;/fragment@0:target:0&quot;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>


<p>After the verbose description of the file structure there is our fragment. But look carefully - where we wrote <code>&amp;i2s</code> it now says <code>0xdeadbeef</code>, a clue that something strange has happened. After the fragment there is a new node, <code>__fixups__</code>. This contains a list of properties mapping the names of unresolved symbols to lists of paths to cells within the fragments that need patching with the phandle of the target node, once that target has been located. In this case, the path is to the <code>0xdeadbeef</code> value of <code>target</code>, but fragments can contain other unresolved references which would require additional fixes.</p>
<p>If you write more complicated fragments, the compiler may generate two more nodes: <code>__local_fixups__</code> and <code>__symbols__</code>. The former is required if any node in the fragments has a phandle, because the program performing the merge will have to ensure that phandle numbers are sequential and unique. However, the latter is the key to how unresolved symbols are dealt with.</p>
<p>Back in section 1.3 it says that "the original labels do not appear in the compiled output", but this isn't true when using the <code>-@</code> switch. Instead, every label results in a property in the <code>__symbols__</code> node, mapping a label to a path, exactly like the <code>aliases</code> node. In fact, the mechanism is so similar that when resolving symbols, the Raspberry Pi loader will search the "aliases" node in the absence of a <code>__symbols__</code> node. This is useful because by providing sufficient aliases, we can allow an older <code>dtc</code> to be used to build the base DTB files.</p>
<p>UPDATE: The <a href="#part3.5">Dynamic Device Tree</a> support in the kernel requires a different format of "local fixups" in the overlay. To avoid problems with old and new styles of overlay coexisting, and to match other users of overlays, the old "name-overlay.dtb" naming scheme has been replaced with "name.dtbo" from 4.4 onwards. Overlays should be referred to by name alone, and the firmware or utility that loads them will append the appropriate suffix. For example:</p>
<div class="codehilite"><pre><span></span>dtoverlay=awesome-overlay      # This is wrong
dtoverlay=awesome              # This is correct
</pre></div>


<p><a name="part2.2"></a></p>
<h3 id="22-device-tree-parameters">2.2: Device Tree parameters</h3>
<p>To avoid the need for lots of Device Tree overlays, and to reduce the need for users of peripherals to modify DTS files, the Raspberry Pi loader supports a new feature - Device Tree parameters. This permits small changes to the DT using named parameters, similar to the way kernel modules receive parameters from <code>modprobe</code> and the kernel command line. Parameters can be exposed by the base DTBs and by overlays, including HAT overlays.</p>
<p>Parameters are defined in the DTS by adding an <code>__overrides__</code> node to the root. It contains properties whose names are the chosen parameter names, and whose values are a sequence comprising a phandle (reference to a label) for the target node, and a string indicating the target property; string, integer (cell) and boolean properties are supported.</p>
<p><a name="part2.2.1"></a></p>
<h4 id="221-string-parameters">2.2.1: String parameters</h4>
<p>String parameters are declared like this:</p>
<div class="codehilite"><pre><span></span>name = &lt;&amp;label&gt;,&quot;property&quot;;
</pre></div>


<p>where <code>label</code> and <code>property</code> are replaced by suitable values. String parameters can cause their target properties to grow, shrink, or be created.</p>
<p>Note that properties called <code>status</code> are treated specially; non-zero/true/yes/on values are converted to the string <code>"okay"</code>, while zero/false/no/off becomes <code>"disabled"</code>.</p>
<p><a name="part2.2.2"></a></p>
<h4 id="222-integer-parameters">2.2.2: Integer parameters</h4>
<p>Integer parameters are declared like this:</p>
<div class="codehilite"><pre><span></span><span class="nt">name</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="nt">label</span><span class="o">&gt;,</span><span class="s2">&quot;property.offset&quot;</span><span class="o">;</span> <span class="o">//</span> <span class="nt">8-bit</span>
<span class="nt">name</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="nt">label</span><span class="o">&gt;,</span><span class="s2">&quot;property;offset&quot;</span><span class="o">;</span> <span class="o">//</span> <span class="nt">16-bit</span>
<span class="nt">name</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="nt">label</span><span class="o">&gt;,</span><span class="s2">&quot;property:offset&quot;</span><span class="o">;</span> <span class="o">//</span> <span class="nt">32-bit</span>
<span class="nt">name</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="nt">label</span><span class="o">&gt;,</span><span class="s2">&quot;property#offset&quot;</span><span class="o">;</span> <span class="o">//</span> <span class="nt">64-bit</span>
</pre></div>


<p>where <code>label</code>, <code>property</code> and <code>offset</code> are replaced by suitable values; the offset is specified in bytes relative to the start of the property (in decimal by default), and the preceding separator dictates the size of the parameter. In a change from earlier implementations, integer parameters may refer to non-existent properties or to offsets beyond the end of an existing property.</p>
<p><a name="part2.2.3"></a></p>
<h4 id="223-boolean-parameters">2.2.3: Boolean parameters</h4>
<p>Device Tree encodes boolean values as zero-length properties; if present then the property is true, otherwise it is false. They are defined like this:</p>
<div class="codehilite"><pre><span></span>boolean_property; // Set &#39;boolean_property&#39; to true
</pre></div>


<p>Note that a property is assigned the value <code>false</code> by not defining it. Boolean parameters are declared like this:</p>
<div class="codehilite"><pre><span></span>name = &lt;&amp;label&gt;,&quot;property?&quot;;
</pre></div>


<p>where <code>label</code> and <code>property</code> are replaced by suitable values. Boolean parameters can cause properties to be created or deleted.</p>
<p><a name="part2.2.4"></a></p>
<h4 id="224-overlayfragment-parameters">2.2.4 Overlay/fragment parameters</h4>
<p>The DT parameter mechanism as described has a number of limitations, including the inability to change the name of a node and to write arbitrary values to arbitrary properties when a parameter is used. One way to overcome some of these limitations is to conditionally include or exclude certain fragments.</p>
<p>A fragment can be excluded from the final merge process (disabled) by renaming the <code>__overlay__</code> node to <code>__dormant__</code>. The parameter declaration syntax has been extended to allow the otherwise illegal zero target phandle to indicate that the following string contains operations at fragment or overlay scope. So far, four operations have been implemented:</p>
<div class="codehilite"><pre><span></span>+&lt;n&gt;    // Enable fragment &lt;n&gt;
-&lt;n&gt;    // Disable fragment &lt;n&gt;
=&lt;n&gt;    // Enable fragment &lt;n&gt; if the assigned parameter value is true, otherwise disable it
!&lt;n&gt;    // Enable fragment &lt;n&gt; if the assigned parameter value is false, otherwise disable it
</pre></div>


<p>Examples:</p>
<div class="codehilite"><pre><span></span>just_one    = &lt;0&gt;,&quot;+1-2&quot;; // Enable 1, disable 2
conditional = &lt;0&gt;,&quot;=3!4&quot;; // Enable 3, disable 4 if value is true,
                          // otherwise disable 3, enable 4.
</pre></div>


<p>The i2c-mux overlay uses this technique.</p>
<p><a name="part2.2.5"></a></p>
<h4 id="225-examples">2.2.5 Examples</h4>
<p>Here are some examples of different types of properties, with parameters to modify them:</p>
<div class="codehilite"><pre><span></span><span class="o">/</span> <span class="p">{</span>
    <span class="n">fragment</span><span class="mi">@0</span> <span class="p">{</span>
        <span class="n">target</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="s">&quot;/&quot;</span><span class="p">;</span>
        <span class="n">__overlay__</span> <span class="p">{</span>

            <span class="nl">test</span><span class="p">:</span> <span class="n">test_node</span> <span class="p">{</span>
                <span class="n">string</span> <span class="o">=</span> <span class="s">&quot;hello&quot;</span><span class="p">;</span>
                <span class="n">status</span> <span class="o">=</span> <span class="s">&quot;disabled&quot;</span><span class="p">;</span>
                <span class="n">bytes</span> <span class="o">=</span> <span class="o">/</span><span class="n">bits</span><span class="o">/</span> <span class="mi">8</span> <span class="o">&lt;</span><span class="mh">0x67</span> <span class="mh">0x89</span><span class="o">&gt;</span><span class="p">;</span>
                <span class="n">u16s</span> <span class="o">=</span> <span class="o">/</span><span class="n">bits</span><span class="o">/</span> <span class="mi">16</span> <span class="o">&lt;</span><span class="mh">0xabcd</span> <span class="mh">0xef01</span><span class="o">&gt;</span><span class="p">;</span>
                <span class="n">u32s</span> <span class="o">=</span> <span class="o">/</span><span class="n">bits</span><span class="o">/</span> <span class="mi">32</span> <span class="o">&lt;</span><span class="mh">0xfedcba98</span> <span class="mh">0x76543210</span><span class="o">&gt;</span><span class="p">;</span>
                <span class="n">u64s</span> <span class="o">=</span> <span class="o">/</span><span class="n">bits</span><span class="o">/</span> <span class="mi">64</span> <span class="o">&lt;</span> <span class="mh">0xaaaaa5a55a5a5555</span> <span class="mh">0x0000111122223333</span><span class="o">&gt;</span><span class="p">;</span>
                <span class="n">bool1</span><span class="p">;</span> <span class="c1">// Defaults to true</span>
                       <span class="c1">// bool2 defaults to false</span>
            <span class="p">};</span>
        <span class="p">};</span>
    <span class="p">};</span>

    <span class="n">fragment</span><span class="mi">@1</span> <span class="p">{</span>
        <span class="n">target</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="s">&quot;/&quot;</span><span class="p">;</span>
        <span class="n">__overlay__</span> <span class="p">{</span>
            <span class="n">frag1</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">};</span>

    <span class="n">fragment</span><span class="mi">@2</span> <span class="p">{</span>
        <span class="n">target</span><span class="o">-</span><span class="n">path</span> <span class="o">=</span> <span class="s">&quot;/&quot;</span><span class="p">;</span>
        <span class="n">__dormant__</span> <span class="p">{</span>
            <span class="n">frag2</span><span class="p">;</span>
        <span class="p">};</span>
    <span class="p">};</span>

    <span class="n">__overrides__</span> <span class="p">{</span>
        <span class="n">string</span> <span class="o">=</span>      <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;string&quot;</span><span class="p">;</span>
        <span class="n">enable</span> <span class="o">=</span>      <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;status&quot;</span><span class="p">;</span>
        <span class="n">byte_0</span> <span class="o">=</span>      <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;bytes.0&quot;</span><span class="p">;</span>
        <span class="n">byte_1</span> <span class="o">=</span>      <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;bytes.1&quot;</span><span class="p">;</span>
        <span class="n">u16_0</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;u16s;0&quot;</span><span class="p">;</span>
        <span class="n">u16_1</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;u16s;2&quot;</span><span class="p">;</span>
        <span class="n">u32_0</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;u32s:0&quot;</span><span class="p">;</span>
        <span class="n">u32_1</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;u32s:4&quot;</span><span class="p">;</span>
        <span class="n">u64_0</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;u64s#0&quot;</span><span class="p">;</span>
        <span class="n">u64_1</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;u64s#8&quot;</span><span class="p">;</span>
        <span class="n">bool1</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;bool1?&quot;</span><span class="p">;</span>
        <span class="n">bool2</span> <span class="o">=</span>       <span class="o">&lt;&amp;</span><span class="n">test</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;bool2?&quot;</span><span class="p">;</span>
        <span class="n">only1</span> <span class="o">=</span>       <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;+1-2&quot;</span><span class="p">;</span>
        <span class="n">only2</span> <span class="o">=</span>       <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;-1+2&quot;</span><span class="p">;</span>
        <span class="n">toggle1</span> <span class="o">=</span>     <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;=1&quot;</span><span class="p">;</span>
        <span class="n">toggle2</span> <span class="o">=</span>     <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;=2&quot;</span><span class="p">;</span>
        <span class="n">not1</span> <span class="o">=</span>        <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;!1&quot;</span><span class="p">;</span>
        <span class="n">not2</span> <span class="o">=</span>        <span class="o">&lt;</span><span class="mi">0</span><span class="o">&gt;</span><span class="p">,</span><span class="s">&quot;!2&quot;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>


<p><a name="part2.2.6"></a></p>
<h4 id="226-parameters-with-multiple-targets">2.2.6: Parameters with multiple targets</h4>
<p>There are some situations where it is convenient to be able to set the same value in multiple locations within the Device Tree. Rather than the ungainly approach of creating multiple parameters, it is possible to add multiple targets to a single parameter by concatenating them, like this:</p>
<div class="codehilite"><pre><span></span>    <span class="nt">__overrides__</span> <span class="p">{</span>
        <span class="err">gpiopin</span> <span class="err">=</span> <span class="err">&lt;&amp;w1&gt;,&quot;</span><span class="n">gpios</span><span class="p">:</span><span class="mi">4</span><span class="s2">&quot;,</span>
<span class="s2">                  &lt;&amp;w1_pins&gt;,&quot;</span><span class="n">brcm</span><span class="p">,</span><span class="n">pins</span><span class="o">:</span><span class="mi">0</span><span class="err">&quot;</span><span class="p">;</span>
        <span class="err">...</span>
    <span class="p">}</span><span class="o">;</span>
</pre></div>


<p>(example taken from the <code>w1-gpio</code> overlay)</p>
<p>Note that it is even possible to target properties of different types with a single parameter. You could reasonably connect an "enable" parameter to a <code>status</code> string, cells containing zero or one, and a proper boolean property.</p>
<p><a name="part2.2.7"></a></p>
<h4 id="227-further-overlay-examples">2.2.7: Further overlay examples</h4>
<p>There is a growing collection of overlay source files hosted in the Raspberry Pi/Linux GitHub repository <a href="https://github.com/raspberrypi/linux/tree/rpi-4.4.y/arch/arm/boot/dts/overlays">here</a>.</p>
<p><a name="part3"></a></p>
<h2 id="part-3-using-device-trees-on-raspberry-pi">Part 3: Using Device Trees on Raspberry Pi</h2>
<p><a name="part3.1"></a></p>
<h3 id="31-overlays-and-configtxt">3.1: Overlays and config.txt</h3>
<p>On a Raspberry Pi it is the job of the loader (one of the <code>start.elf</code> images) to combine overlays with an appropriate base device tree, and then to pass a fully resolved Device Tree to the kernel. The base Device Trees are located alongside <code>start.elf</code> in the FAT partition (/boot from Linux), named <code>bcm2708-rpi-b.dtb</code>, <code>bcm2708-rpi-b-plus.dtb</code>, <code>bcm2708-rpi-cm.dtb</code>, and <code>bcm2709-rpi-2-b.dtb</code>. Note that Models A and A+ will use the "b" and "b-plus" variants, respectively. This selection is automatic, and allows the same SD card image to be used in a variety of devices.</p>
<p>Note that DT and ATAGs are mutually exclusive. As a result, passing a DT blob to a kernel that doesn't understand it causes a boot failure. To guard against this, the loader checks kernel images for DT-compatibility, which is marked by a trailer added by the <code>mkknlimg</code> utility; this can be found in the <code>scripts</code> directory of a recent kernel source tree. Any kernel without a trailer is assumed to be non-DT-capable.</p>
<p>A kernel built from the rpi-4.4.y tree (and later) will not function without a DTB, so from the 4.4 releases onwards, any kernel without a trailer is assumed to be DT-capable. You can override this by adding a trailer without the DTOK flag or by putting <code>device_tree=</code> in config.txt, but don't be surprised if it doesn't work.
N.B. A corollary to this is that if the kernel has a trailer indicating DT capability then <code>device_tree=</code> will be ignored.</p>
<p>The loader now supports builds using bcm2835_defconfig, which selects the upstreamed BCM2835 support. This configuration will cause <code>bcm2835-rpi-b.dtb</code> and <code>bcm2835-rpi-b-plus.dtb</code> to be built. If these files are copied with the kernel, and if the kernel has been tagged by a recent <code>mkknlimg</code>, then the loader will attempt to load one of those DTBs by default.</p>
<p>In order to manage Device Tree and overlays, the loader supports a number of new <code>config.txt</code> directives:</p>
<div class="codehilite"><pre><span></span>dtoverlay=acme-board
dtparam=foo=bar,level=42
</pre></div>


<p>This will cause the loader to look for <code>overlays/acme-board.dtbo</code> in the firmware partition, which Raspbian mounts on <code>/boot</code>. It will then search for parameters <code>foo</code> and <code>level</code>, and assign the indicated values to them.</p>
<p>The loader will also search for an attached HAT with a programmed EEPROM, and load the supporting overlay from there; this happens without any user intervention.</p>
<p>There are several ways to tell that the kernel is using Device Tree:</p>
<ol>
<li>The "Machine model:" kernel message during bootup has a board-specific value such as "Raspberry Pi 2 Model B", rather than "BCM2709".</li>
<li>Some time later, there may also be another kernel message saying "No ATAGs?" - this is expected.</li>
<li><code>/proc/device-tree</code> exists, and contains subdirectories and files that exactly mirror the nodes and properties of the DT.</li>
</ol>
<p>With a Device Tree, the kernel will automatically search for and load modules that support the indicated enabled devices. As a result, by creating an appropriate DT overlay for a device you save users of the device from having to edit <code>/etc/modules</code>; all of the configuration goes in <code>config.txt</code>, and in the case of a HAT, even that step is unnecessary. Note, however, that layered modules such as <code>i2c-dev</code> still need to be loaded explicitly.</p>
<p>The flipside is that because platform devices don't get created unless requested by the DTB, it should no longer be necessary to blacklist modules that used to be loaded as a result of platform devices defined in the board support code. In fact, current Raspbian images ship without a blacklist file.</p>
<p><a name="part3.2"></a></p>
<h3 id="32-dt-parameters">3.2: DT parameters</h3>
<p>As described above, DT parameters are a convenient way to make small changes to a device's configuration. The current base DTBs support parameters for enabling and controlling the onboard audio, I2C, I2S and SPI interfaces without using dedicated overlays. In use, parameters look like this:</p>
<div class="codehilite"><pre><span></span>dtparam=audio=on,i2c_arm=on,i2c_arm_baudrate=400000,spi=on
</pre></div>


<p>Note that multiple assignments can be placed on the same line, but ensure you don't exceed the 80-character limit.</p>
<p>A future default <code>config.txt</code> may contain a section like this:</p>
<div class="codehilite"><pre><span></span># Uncomment some or all of these to enable the optional hardware interfaces
#dtparam=i2c_arm=on
#dtparam=i2s=on
#dtparam=spi=on
</pre></div>


<p>If you have an overlay that defines some parameters, they can be specified either on subsequent lines like this:</p>
<div class="codehilite"><pre><span></span>dtoverlay=lirc-rpi
dtparam=gpio_out_pin=16
dtparam=gpio_in_pin=17
dtparam=gpio_in_pull=down
</pre></div>


<p>or appended to the overlay line like this:</p>
<div class="codehilite"><pre><span></span>dtoverlay=lirc-rpi:gpio_out_pin=16,gpio_in_pin=17,gpio_in_pull=down
</pre></div>


<p>Note here the use of a colon (<code>:</code>) to separate the overlay name from its parameters, which is a supported syntax variant.</p>
<p>Overlay parameters are only in scope until the next overlay is loaded. In the event of a parameter with the same name being exported by both the overlay and the base, the parameter in the overlay takes precedence; for clarity, it's recommended that you avoid doing this. To expose the parameter exported by the base DTB instead, end the current overlay scope using:</p>
<div class="codehilite"><pre><span></span>dtoverlay=
</pre></div>


<p><a name="part3.3"></a></p>
<h3 id="33-board-specific-labels-and-parameters">3.3: Board-specific labels and parameters</h3>
<p>Raspberry Pi boards have two I2C interfaces. These are nominally split: one for the ARM, and one for VideoCore (the "GPU"). On almost all models, <code>i2c1</code> belongs to the ARM and <code>i2c0</code> to VC, where it is used to control the camera and read the HAT EEPROM. However, there are two early revisions of the Model B that have those roles reversed.</p>
<p>To make it possible to use one set of overlays and parameters with all Pis, the firmware creates some board-specific DT parameters. These are:</p>
<div class="codehilite"><pre><span></span>i2c/i2c_arm
i2c_vc
i2c_baudrate/i2c_arm_baudrate
i2c_vc_baudrate
</pre></div>


<p>These are aliases for <code>i2c0</code>, <code>i2c1</code>, <code>i2c0_baudrate</code>, and <code>i2c1_baudrate</code>. It is recommended that you only use <code>i2c_vc</code> and <code>i2c_vc_baudrate</code> if you really need to - for example, if you are programming a HAT EEPROM. Enabling <code>i2c_vc</code> can stop the Pi Camera being detected.</p>
<p>For people writing overlays, the same aliasing has been applied to the labels on the I2C DT nodes. Thus, you should write:</p>
<div class="codehilite"><pre><span></span><span class="n">fragment</span><span class="mi">@0</span> <span class="p">{</span>
    <span class="n">target</span> <span class="o">=</span> <span class="o">&lt;&amp;</span><span class="n">i2c_arm</span><span class="o">&gt;</span><span class="p">;</span>
    <span class="n">__overlay__</span> <span class="p">{</span>
        <span class="n">status</span> <span class="o">=</span> <span class="s">&quot;okay&quot;</span><span class="p">;</span>
    <span class="p">};</span>
<span class="p">};</span>
</pre></div>


<p>Any overlays using the numeric variants will be modified to use the new aliases.</p>
<p><a name="part3.4"></a></p>
<h3 id="34-hats-and-device-tree">3.4: HATs and Device Tree</h3>
<p>A Raspberry Pi HAT is an add-on board for a "Plus"-shaped (A+, B+ or Pi 2 B) Raspberry Pi with an embedded EEPROM. The EEPROM includes any DT overlay required to enable the board, and this overlay can also expose parameters.</p>
<p>The HAT overlay is automatically loaded by the firmware after the base DTB, so its parameters are accessible until any other overlays are loaded, or until the overlay scope is ended using <code>dtoverlay=</code>. If for some reason you want to suppress the loading of the HAT overlay, put <code>dtoverlay=</code> before any other <code>dtoverlay</code> or <code>dtparam</code> directive.</p>
<p><a name="part3.5"></a></p>
<h3 id="35-dynamic-device-tree">3.5: Dynamic Device Tree</h3>
<p>As of Linux 4.4, the RPi kernels support the dynamic loading of overlays and parameters. Compatible kernels manage a stack of overlays that are applied on top of the base DTB. Changes are immediately reflected in <code>/proc/device-tree</code> and can cause modules to be loaded and platform devices to be created and destroyed.</p>
<p>The use of the word "stack" above is important - overlays can only be added and removed at the top of the stack; changing something further down the stack requires that anything on top of it must first be removed.</p>
<p>There are some new commands for managing overlays:</p>
<p><a name="part3.5.1"></a></p>
<h4 id="351-the-dtoverlay-command">3.5.1 The dtoverlay command</h4>
<p><code>dtoverlay</code> is a command line utility that loads and removes overlays while the system is running, as well as listing the available overlays and displaying their help information:</p>
<div class="codehilite"><pre><span></span>pi@raspberrypi ~ $ dtoverlay -h
Usage:
  dtoverlay &lt;overlay&gt; [&lt;param&gt;=&lt;val&gt;...]
                           Add an overlay (with parameters)
  dtoverlay -r [&lt;overlay&gt;] Remove an overlay (by name, index or the last)
  dtoverlay -R [&lt;overlay&gt;] Remove from an overlay (by name, index or all)
  dtoverlay -l             List active overlays/params
  dtoverlay -a             List all overlays (marking the active)
  dtoverlay -h             Show this usage message
  dtoverlay -h &lt;overlay&gt;   Display help on an overlay
  dtoverlay -h &lt;overlay&gt; &lt;param&gt;..  Or its parameters
    where &lt;overlay&gt; is the name of an overlay or &#39;dtparam&#39; for dtparams
Options applicable to most variants:
    -d &lt;dir&gt;    Specify an alternate location for the overlays
                (defaults to /boot/overlays or /flash/overlays)
    -n          Dry run - show what would be executed
    -v          Verbose operation
</pre></div>


<p>Unlike the <code>config.txt</code> equivalent, all parameters to an overlay must be included in the same command line - the <a href="#part3.5.2">dtparam</a> command is only for parameters of the base DTB.</p>
<p>Two points to note:
1. Command variants that change kernel state (adding and removing things) require root privilege, so you may need to prefix the command with <code>sudo</code>.</p>
<ol>
<li>Only overlays and parameters applied at run-time can be unloaded - an overlay or parameter applied by the firmware becomes "baked in" such that it won't be listed by <code>dtoverlay</code> and can't be removed.</li>
</ol>
<p><a name="part3.5.2"></a></p>
<h4 id="352-the-dtparam-command">3.5.2 The dtparam command</h4>
<p><code>dtparam</code> creates an overlay that has the same effect as using a dtparam directive in <code>config.txt</code>. In usage it is largely equivalent to <code>dtoverlay</code> with an overlay name of <code>-</code>, but there are a few small differences:</p>
<ol>
<li>
<p><code>dtparam</code> will list the help information for all known parameters of the base DTB. Help on the dtparam command is still available using <code>dtparam -h</code>.</p>
</li>
<li>
<p>When indicating a parameter for removal, only index numbers can be used (not names).</p>
</li>
</ol>
<p><a name="part3.5.3"></a></p>
<h4 id="353-guidelines-for-writing-runtime-capable-overlays">3.5.3 Guidelines for writing runtime-capable overlays</h4>
<p>This area is poorly documented, but here are some accumulated tips:</p>
<ul>
<li>
<p>The creation or deletion of a device object is triggered by a node being added or removed, or by the status of a node changing from disabled to enabled or vice versa. Beware - the absence of a "status" property means the node is enabled.</p>
</li>
<li>
<p>Don't create a node within a fragment that will overwrite an existing node in the base DTB - the kernel will rename the new node to make it unique. If you want to change the properties of an existing node, create a fragment that targets it.</p>
</li>
<li>
<p>ALSA doesn't prevent its codecs and other components from being unloaded while they are in use. Removing an overlay can cause a kernel exception if it deletes a codec that is still being used by a sound card. Experimentation found that devices are deleted in the reverse of fragment order in the overlay, so placing the node for the card after the nodes for the components allows an orderly shutdown.</p>
</li>
</ul>
<p><a name="part3.5.4"></a></p>
<h4 id="354-caveats">3.5.4 Caveats</h4>
<p>The loading of overlays at runtime is a recent addition to the kernel, and so far there is no accepted way to do this from userspace. By hiding the details of this mechanism behind commands the aim is to insulate users from changes in the event that a different kernel interface becomes standardised.</p>
<ul>
<li>
<p>Some overlays work better at run-time than others. Parts of the Device Tree are only used at boot time - changing them using an overlay will not have any effect.</p>
</li>
<li>
<p>Applying or removing some overlays may cause unexpected behaviour, so it should be done with caution. This is one of the reasons it requires <code>sudo</code>.</p>
</li>
<li>
<p>Unloading the overlay for an ALSA card can stall if something is actively using ALSA - the LXPanel volume slider plugin demonstrates this effect. To enable overlays for sound cards to be removed, the <code>lxpanelctl</code> utility has been given two new options - <code>alsastop</code> and <code>alsastart</code> - and these are called from the auxiliary scripts <code>dtoverlay-pre</code> and <code>dtoverlay-post</code> before and after overlays are loaded or unloaded, respectively.</p>
</li>
<li>
<p>Removing an overlay will not cause a loaded module to be unloaded, but it may cause the reference count of some modules to drop to zero. Running <code>rmmod -a</code> twice will cause unused modules to be unloaded.</p>
</li>
<li>
<p>Overlays have to be removed in reverse order. The commands will allow you to remove an earlier one, but all the intermediate ones will be removed and re-applied, which may have unintended consequences.</p>
</li>
<li>
<p>Adding clocks under the <code>/clocks</code> node at run-time doesn't cause a new clock provider to be registered, so <code>devm_clk_get</code> will fail for a clock created in an overlay.</p>
</li>
</ul>
<p><a name="part3.6"></a></p>
<h3 id="36-supported-overlays-and-parameters">3.6: Supported overlays and parameters</h3>
<p>As it is too time-consuming to document the individual overlays here, please refer to the <a href="https://github.com/raspberrypi/firmware/blob/master/boot/overlays/README">README</a> file found alongside the overlay <code>.dtbo</code> files in <code>/boot/overlays</code>. It is kept up-to-date with additions and changes.</p>
<p><a name="part4"></a></p>
<h2 id="part-4-troubleshooting-and-pro-tips">Part 4: Troubleshooting and pro tips</h2>
<p><a name="part4.1"></a></p>
<h3 id="41-debugging">4.1: Debugging</h3>
<p>The loader will skip over missing overlays and bad parameters, but if there are serious errors, such as a missing or corrupt base DTB or a failed overlay merge, then the loader will fall back to a non-DT boot. If this happens, or if your settings don't behave as you expect, it is worth checking for warnings or errors from the loader:</p>
<div class="codehilite"><pre><span></span>sudo vcdbg log msg
</pre></div>


<p>Extra debugging can be enabled by adding <code>dtdebug=1</code> to <code>config.txt</code>.</p>
<p>If the kernel fails to come up in DT mode, <strong>this is probably because the kernel image does not have a valid trailer</strong>. Use <code>knlinfo</code> to check for one, and the <code>mkknlimg</code> utility to add one. Both utilities are included in the <code>scripts</code> directory of current Raspberry Pi kernel source trees.</p>
<p>You can create a human-readable representation of the current state of DT like this:</p>
<div class="codehilite"><pre><span></span>dtc -I fs /proc/device-tree
</pre></div>


<p>This can be useful to see the effect of merging overlays onto the underlying tree.</p>
<p>If kernel modules don't load as expected, check that they aren't blacklisted in <code>/etc/modprobe.d/raspi-blacklist.conf</code>; blacklisting shouldn't be necessary when using Device Tree. If that shows nothing untoward, you can also check that the module is exporting the correct aliases by searching <code>/lib/modules/&lt;version&gt;/modules.alias</code> for the <code>compatible</code> value. Otherwise, your driver is probably missing either:</p>
<div class="codehilite"><pre><span></span><span class="na">.of_match_table</span> <span class="err">=</span> <span class="no">xxx_of_match</span><span class="p">,</span>
</pre></div>


<p>or:</p>
<div class="codehilite"><pre><span></span>MODULE_DEVICE_TABLE(of, xxx_of_match);
</pre></div>


<p>Failing that, <code>depmod</code> has failed or the updated modules haven't been installed on the target filesystem.</p>
<p><a name="part4.2"></a></p>
<h3 id="42-testing-overlays-using-dtmerge-and-dtdiff">4.2: Testing overlays using dtmerge and dtdiff</h3>
<p>Alongside the <code>dtoverlay</code> and <code>dtparam</code> commands is a utility for applying an overlay to a DTB - <code>dtmerge</code>. To use it you first need to obtain your base DTB, which can be obtained in one of two ways:</p>
<p>a) generate it from the live DT state in <code>/proc/device-tree</code>:</p>
<div class="codehilite"><pre><span></span>dtc -I fs -O dtb -o base.dtb /proc/device-tree
</pre></div>


<p>This will include any overlays and parameters you have applied so far, either in <code>config.txt</code> or by loading them at runtime, which may or may not be what you want. Alternatively...</p>
<p>b) copy it from the source DTBs in /boot. This won't include overlays and parameters, but it also won't include any other modifications by the firmware. To allow testing of all overlays, the <code>dtmerge</code> utility will create some of the board-specific aliases ("i2c_arm", etc.), but this means that the result of a merge will include more differences from the original DTB than you might expect. The solution to this is to use dtmerge to make the copy:</p>
<div class="codehilite"><pre><span></span>dtmerge /boot/bcm2710-rpi-3-b.dtb base.dtb -
</pre></div>


<p>(the <code>-</code> indicates an absent overlay name).</p>
<p>You can now try applying an overlay or parameter:</p>
<div class="codehilite"><pre><span></span>dtmerge base.dtb merged.dtb - sd_overclock=62
dtdiff base.dtb merged.dtb
</pre></div>


<p>which will return:</p>
<div class="codehilite"><pre><span></span><span class="gd">--- /dev/fd/63  2016-05-16 14:48:26.396024813 +0100</span>
<span class="gi">+++ /dev/fd/62  2016-05-16 14:48:26.396024813 +0100</span>
<span class="gu">@@ -594,7 +594,7 @@</span>
                };

                sdhost@7e202000 {
<span class="gd">-                       brcm,overclock-50 = &lt;0x0&gt;;</span>
<span class="gi">+                       brcm,overclock-50 = &lt;0x3e&gt;;</span>
                        brcm,pio-limit = &lt;0x1&gt;;
                        bus-width = &lt;0x4&gt;;
                        clocks = &lt;0x8&gt;;
</pre></div>


<p>You can also compare different overlays or parameters.</p>
<div class="codehilite"><pre><span></span>dtmerge base.dtb merged1.dtb /boot/overlays/spi1-1cs.dtbo
dtmerge base.dtb merged2.dtb /boot/overlays/spi1-2cs.dtbo
dtdiff merged1.dtb merged2.dtb
</pre></div>


<p>to get:</p>
<div class="codehilite"><pre><span></span><span class="gd">--- /dev/fd/63  2016-05-16 14:18:56.189634286 +0100</span>
<span class="gi">+++ /dev/fd/62  2016-05-16 14:18:56.189634286 +0100</span>
<span class="gu">@@ -453,7 +453,7 @@</span>

                        spi1_cs_pins {
                                brcm,function = &lt;0x1&gt;;
<span class="gd">-                               brcm,pins = &lt;0x12&gt;;</span>
<span class="gi">+                               brcm,pins = &lt;0x12 0x11&gt;;</span>
                                phandle = &lt;0x3e&gt;;
                        };

<span class="gu">@@ -725,7 +725,7 @@</span>
                        #size-cells = &lt;0x0&gt;;
                        clocks = &lt;0x13 0x1&gt;;
                        compatible = &quot;brcm,bcm2835-aux-spi&quot;;
<span class="gd">-                       cs-gpios = &lt;0xc 0x12 0x1&gt;;</span>
<span class="gi">+                       cs-gpios = &lt;0xc 0x12 0x1 0xc 0x11 0x1&gt;;</span>
                        interrupts = &lt;0x1 0x1d&gt;;
                        linux,phandle = &lt;0x30&gt;;
                        phandle = &lt;0x30&gt;;
<span class="gu">@@ -743,6 +743,16 @@</span>
                                spi-max-frequency = &lt;0x7a120&gt;;
                                status = &quot;okay&quot;;
                        };
<span class="gi">+</span>
<span class="gi">+                       spidev@1 {</span>
<span class="gi">+                               #address-cells = &lt;0x1&gt;;</span>
<span class="gi">+                               #size-cells = &lt;0x0&gt;;</span>
<span class="gi">+                               compatible = &quot;spidev&quot;;</span>
<span class="gi">+                               phandle = &lt;0x41&gt;;</span>
<span class="gi">+                               reg = &lt;0x1&gt;;</span>
<span class="gi">+                               spi-max-frequency = &lt;0x7a120&gt;;</span>
<span class="gi">+                               status = &quot;okay&quot;;</span>
<span class="gi">+                       };</span>
                };

                spi@7e2150C0 {
</pre></div>


<p><a name="part4.3"></a></p>
<h3 id="43-forcing-a-specific-device-tree">4.3: Forcing a specific Device Tree</h3>
<p>If you have very specific needs that aren't supported by the default DTBs (in particular, people experimenting with the pure-DT approach used by the ARCH_BCM2835 project), or if you just want to experiment with writing your own DTs, you can tell the loader to load an alternate DTB file like this:</p>
<div class="codehilite"><pre><span></span>device_tree=my-pi.dtb
</pre></div>


<p><a name="part4.4"></a></p>
<h3 id="44-disabling-device-tree-usage">4.4: Disabling Device Tree usage</h3>
<p>Since the switch to the 4.4 kernel and the use of more upstream drivers, Device Tree usage is required in Pi kernels. The method of disabling DT usage is to add:</p>
<div class="codehilite"><pre><span></span>device_tree=
</pre></div>


<p>to <code>config.txt</code>. However, if the kernel has a <code>mkknlimg</code> trailer indicating DT capability then this directive will be ignored.</p>
<p><a name="part4.5"></a></p>
<h3 id="45-shortcuts-and-syntax-variants">4.5: Shortcuts and syntax variants</h3>
<p>The loader understands a few shortcuts:</p>
<div class="codehilite"><pre><span></span>dtparam=i2c_arm=on
dtparam=i2s=on
</pre></div>


<p>can be shortened to:</p>
<div class="codehilite"><pre><span></span>dtparam=i2c,i2s
</pre></div>


<p>(<code>i2c</code> is an alias of <code>i2c_arm</code>, and the <code>=on</code> is assumed). It also still accepts the long-form versions: <code>device_tree_overlay</code> and <code>device_tree_param</code>.</p>
<p>The loader used to accept the use of whitespace and colons as separators, but support for these has been discontinued for simplicity and so they can be used within parameter values without quotes.</p>
<p><a name="part4.6"></a></p>
<h3 id="46-other-dt-commands-available-in-configtxt">4.6: Other DT commands available in config.txt</h3>
<p><code>device_tree_address</code>
This is used to override the address where the firmware loads the device tree (not dt-blob). By default the firmware will choose a suitable place.</p>
<p><code>device_tree_end</code>
This sets an (exclusive) limit to the loaded device tree. By default the device tree can grow to the end of usable memory, which is almost certainly what is required.</p>
<p><code>dtdebug</code>
If non-zero, turn on some extra logging for the firmware's device tree processing.</p>
<p><code>enable_uart</code>
Enable the primary/console UART (ttyS0 on a Pi 3, ttyAMA0 otherwise - unless swapped with an overlay such as pi3-miniuart-bt). If the primary UART is ttyAMA0 then enable_uart defaults to 1 (enabled), otherwise it defaults to 0 (disabled). This is because it is necessary to stop the core frequency from changing which would make ttyS0 unusable, so <code>enable_uart=1</code> implies core_freq=250 (unless force_turbo=1). In some cases this is a performance hit, so it is off by default. More details on UARTs can be found <a href="../uart/index.html">here</a></p>
<p><code>overlay_prefix</code>
Specifies a subdirectory/prefix from which to load overlays - defaults to "overlays/". Note the trailing "/". If desired you can add something after the final "/" to add a prefix to each file, although this is not likely to be needed.</p>
<p>Further ports can be controlled by the DT, for more details see <a href="#part3">section 3</a>.</p>
                
                  
                
              
              
                
              
            </article>
          </div>
        </div>
      </main>
      
        
<footer class="md-footer">
  
    <div class="md-footer-nav">
      <nav class="md-footer-nav__inner md-grid">
        
          <a href="../config-txt/index.html" title="config.txt" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev">
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-back md-footer-nav__button"></i>
            </div>
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Previous
                </span>
                config.txt
              </span>
            </div>
          </a>
        
        
          <a href="../external-storage/index.html" title="External storage" class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next">
            <div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title">
              <span class="md-flex__ellipsis">
                <span class="md-footer-nav__direction">
                  Next
                </span>
                External storage
              </span>
            </div>
            <div class="md-flex__cell md-flex__cell--shrink">
              <i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i>
            </div>
          </a>
        
      </nav>
    </div>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        powered by
        <a href="http://www.mkdocs.org">MkDocs</a>
        and
        <a href="https://squidfunk.github.io/mkdocs-material/">
          Material for MkDocs</a>
      </div>
      
        
      
    </div>
  </div>
</footer>
      
    </div>
    
      <script src="../../assets/javascripts/application.6cdc17f0.js"></script>
      
      <script>app.initialize({version:"0.17.2",url:{base:"../.."}})</script>
      
    
    
      
    
  </body>
</html>